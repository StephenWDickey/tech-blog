



{{#if loggedIn}}
  <!-- handlebars has helpers to perform functions -->
  <!-- this helper is afor loop, simply write #each -->
  <!-- it will loop through each object of the specified array -->
  <!-- the array in this case is posts -->
<div class="p-5 mx-5">
  <h1 class="text-light pt-5 border-bottom border-light">Showing All Posts</h1>
</div>
{{#each posts as |post|}}
  <div class="border border-dark bg-dark m-5 p-5 rounded">
   <ul class="mt-3 post-list border border-dark bg-light rounded" > 
    <li>
      <article class="user-post">
        <div class="title">
          <h1 class="text-dark fw-bold post-title">{{post.title}}</h1>
          <p>{{post.post_content}}</p>
        </div>
        
        <div class="meta border-top border-dark ">
          {{post.vote_count}} point(s) by {{post.user.username}} on
          {{post.created_at}}
        |
          <a class="text-dark fw-bold comments-length" data-post-id="{{this.id}}">{{post.comments.length}} comment(s)</a>
          <div class = "comment-container"></div>
        </div>
        
      </article>
    </li>
   </ul>
  <div class="options-container text-light float-end" data-post-id="{{this.id}}">Click here for more options
  </div>
 </div>
  {{/each}}
    
{{else}}
<div class="bg-info">
  <div class="p-5">
    <h1 class="text-light pt-5 px-5 border-bottom border-light">You need to login or sign-up to view posts!</h1>
    <a href="/login" class="mx-5 mt-3 btn btn-dark btn-lg login">Login!</a>
  </div>
</div>
{{/if}}

{{#if loggedIn}}
<script src="/javascript/logout.js"></script>
<script src="/javascript/homepage.js"></script>
{{/if}}
